\documentclass[11pt,letterpaper]{refart}

\usepackage{gitinfo2}
\usepackage{amsmath,mathtools}

\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{caption}

\usepackage{microtype}
\usepackage[T1]{fontenc}

\usepackage{graphicx}
\usepackage{framed}
\usepackage{tikz}
\usepackage{booktabs}

\usepackage{xcolor}
\usepackage{listings}
\lstset{
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
    frame=single,
    columns=flexible
}

\def\itwoc{I{$\scriptstyle^2$}C\ }
\newcommand\symbolwithin[2]{%
    {\mathmakebox[\widthof{\ensuremath{{}#2{}}}][c]{{#1}}}}

\title{GBTx Communication Document}
\author{University of Maryland LHCb group}

\begin{document}
\maketitle
\hfill\small{\texttt{Rev:~\gitRel~(\gitAbbrevHash)}}
\tableofcontents
\clearpage

\section{Hardware setup}
\input{include/hardware/overview.tex}
\input{include/hardware/configure_gbtx_to_use_external_i2c.tex}
\input{include/hardware/configure_slave_to_use_master_sca.tex}
\input{include/hardware/configure_gbtx_to_use_gbt_ic.tex}
\input{include/hardware/configure_gbtx_tx_rx_widebus_fec.tex}
\input{include/hardware/reset_gbtx.tex}

\section{Software setup}
\input{include/software/program_master_gbtx_with_i2c.tex}
\input{include/software/check_communication_between_gbtx_and_minidaq.tex}
\input{include/software/program_slave_gbtx_registers.tex}
\input{include/software/program_slave_gbtx_file.tex}

\newpage \appendix
\section*{Appendices}
\addcontentsline{toc}{section}{Appendices}
\renewcommand{\thesubsection}{\Alph{subsection}}
\input{include/appendices/fix_gbt_server_error.tex}
\input{include/appendices/bypass_components_in_gbt_data_path.tex}
\input{include/appendices/prbs_tests.tex}
\input{include/appendices/gbtx_operation_modes.tex}

\end{document}
